function c(o){window.enmity.plugins.registerPlugin(o)}function l(o,e){return window.enmity.modules.getModule(o,e)}function m(...o){return window.enmity.modules.getByProps(...o)}function r(...o){return window.enmity.modules.getByName(...o)}window.enmity.modules.common;function u(o){return window.enmity.patcher.create(o)}var a="SpotifyPreview",y="1.0.0",p="Lets you preview (30s of audio) Spotify songs by pressing the links.",h=[{name:"fres",id:"843448897737064448"}],g={name:a,version:y,description:p,authors:h};const f=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const t=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const v=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;var i;const{ThemeColorMap:S}=f,{default:{render:s}}=(i=l(o=>{var e,n;return((n=(e=o.default)==null?void 0:e.render)==null?void 0:n.name)=="ActionSheet"}))!=null?i:{default:{render:!1}},d=m("openLazy","hideActionSheet");function C(o,e){s?d==null||d.openLazy(new Promise(n=>n({default:o})),"ActionSheet",e):v.open("You cannot open ActionSheets on this version! Upgrade to 163+")}const{BottomSheetScrollView:A}=m("BottomSheetScrollView");let B=r("WebView"),L=o=>{const e=S.MODAL_BACKGROUND;return t.createElement(B,{source:{uri:o},style:{marginTop:20,backgroundColor:e,height:100,width:"100%"}})};function N({"0":o}){return t.createElement(s,null,t.createElement(A,{contentContainerStyle:{marginBottom:100}},L(o.replace("https://open.spotify.com","https://open.spotify.com/embed"))))}function k(o){C(N,[o])}const w=u("spotify-preview"),M=m("handleClick"),P={...g,onStart(){w.before(M,"handleClick",function(o,[e]){const{href:n}=e;!n.startsWith("https://open.spotify.com/")||(e.href=void 0,k(n))})},onStop(){w.unpatchAll()}};c(P);
