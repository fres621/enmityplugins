function r(o){window.enmity.plugins.registerPlugin(o)}function u(o,n){return window.enmity.modules.getModule(o,n)}function e(...o){return window.enmity.modules.getByProps(...o)}function a(...o){return window.enmity.modules.getByName(...o)}window.enmity.modules.common;function y(o){return window.enmity.patcher.create(o)}var p="SpotifyPreview",h="1.0.0",g="Lets you preview (30s of audio) Spotify songs by pressing the links.",S=[{name:"fres",id:"843448897737064448"}],f={name:p,version:h,description:g,authors:S};const v=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const i=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const A=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;var s,d;const{ThemeColorMap:C}=v,w=(d=(s=e("ActionSheet"))==null?void 0:s.ActionSheet)!=null?d:u(o=>{var n;return((n=o.render)==null?void 0:n.name)==="ActionSheet"}),c=e("openLazy","hideActionSheet");function B(o,n){w?c==null||c.openLazy(new Promise(m=>m({default:o})),"ActionSheet",n):A.open("You cannot open ActionSheets on this version! Upgrade to 163+")}const{BottomSheetScrollView:L}=e("BottomSheetScrollView");let N=a("WebView"),k=o=>{const n=C.MODAL_BACKGROUND;return i.createElement(N,{source:{uri:o},style:{marginTop:20,backgroundColor:n,height:100,width:"100%"}})};function M({"0":o}){return i.createElement(w,null,i.createElement(L,{contentContainerStyle:{marginBottom:100}},k(o.replace("https://open.spotify.com","https://open.spotify.com/embed"))))}function P(o){B(M,[o])}const l=y("spotify-preview"),T=e("handleClick"),b={...f,onStart(){l.instead(T,"handleClick",(o,n,m)=>{const{href:t}=n[0];if(!t||!t.startsWith("https://open.spotify.com/"))return m.apply(o,n);P(t)})},onStop(){l.unpatchAll()}};r(b);
