function u(o){window.enmity.plugins.registerPlugin(o)}function a(o,e){return window.enmity.modules.getModule(o,e)}function n(...o){return window.enmity.modules.getByProps(...o)}function y(...o){return window.enmity.modules.getByName(...o)}window.enmity.modules.common;function p(o){return window.enmity.patcher.create(o)}var h="SpotifyPreview",g="1.0.0",f="Lets you preview (30s of audio) Spotify songs by pressing the links.",S=[{name:"fres",id:"843448897737064448"}],v={name:h,version:g,description:f,authors:S};const C=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const i=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const A=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;var s,d;const{ThemeColorMap:B}=C,w=(d=(s=n("ActionSheet"))==null?void 0:s.ActionSheet)!=null?d:a(o=>{var e;return((e=o.render)==null?void 0:e.name)==="ActionSheet"},{}),l=n("openLazy","hideActionSheet");function L(o,e){w?l==null||l.openLazy(new Promise(m=>m({default:o})),"ActionSheet",e):A.open("You cannot open ActionSheets on this version! Upgrade to 163+")}const{BottomSheetScrollView:N}=n("BottomSheetScrollView"),c=y("WebView")||n("WebView").default.render;let k=o=>{console.log(c);const e=B.MODAL_BACKGROUND;return i.createElement(c,{source:{uri:o},style:{marginTop:20,backgroundColor:e,height:100,width:"100%"}})};function M([o]){return i.createElement(w,null,i.createElement(N,{contentContainerStyle:{marginBottom:100}},k(o.replace("https://open.spotify.com","https://open.spotify.com/embed"))))}function P(o){L(M,[o])}const r=p("spotify-preview"),T=n("handleClick"),b={...v,onStart(){r.instead(T,"handleClick",(o,e,m)=>{const{href:t}=e[0];if(!t||!t.startsWith("https://open.spotify.com/"))return m.apply(o,e);P(t)})},onStop(){r.unpatchAll()}};u(b);
